# EpicAutoClaim

1. Place your valid Epic Games cookies in `cookies.json`.
2. Run `npm install` to install dependencies.
3. Execute `npm start` to launch the script.

This project automates claiming free games from Epic Games and placing orders on Fab using Puppeteer.

- The project includes functions to navigate to the Epic Games free games page and the Fab website.
- It automates the order placement process for items found on these platforms.

## How does it work.
   - Loads the cookies into the browser from the `cookies.json` file.
   - Goes to [Epic Games Store](https://store.epicgames.com/en-US) and locates the 'Free Games' section.
   - Finds all items with the 'Free Now' label and collects their links.
   - Iterates the list to visit each game page. For each page:
     - If an age gate appears, clicks the 'Continue' button.
     - Checks for an active 'Get' button; if missing, skips the game.
     - Clicks the 'Get' button, then switches to the payment container iframe.
     - Clicks the 'Place Order' button and waits 10 seconds for captchas or manual completion.

### AutoGameClaim
   - Loads the cookies into the browser from the cookies.json file.
   - Goes to https://store.epicgames.com/en-US/ finds the 'Free Games' section:

   <div class="css-cdosd6"><div class="css-2g3uf9"><h5 class="eds_1ypbntd0 eds_1ypbntd6 eds_1ypbntdk css-70qvj9"><span class="css-pcnqjt" aria-hidden="true" data-testid="icon"><svg xmlns="http://www.w3.org/2000/svg" class="svg css-uwwqev" viewBox="0 0 32 32"><g fill="currentColor" fill-rule="evenodd"><path d="M30.443 16.605H19.72v-3.46h10.724v3.46zm-2.075 12.308c0 .397-.576.838-1.402.838h-7.247V17.99h8.648v10.924zm-14.876.838h4.843v-18.68h-4.843v18.68zm-10.033-.838V17.99h8.649v11.762H4.861c-.826 0-1.402-.441-1.402-.838zM1.384 13.146h10.724v3.46H1.384v-3.46zm1.773-4.324c0-1.622 1.319-2.94 2.94-2.94 2.752 0 5.093 3.78 5.575 5.88H6.097a2.944 2.944 0 0 1-2.94-2.94zm22.573-2.94c1.621 0 2.94 1.318 2.94 2.94 0 1.621-1.319 2.94-2.94 2.94h-5.574c.481-2.1 2.822-5.88 5.574-5.88zm5.405 5.88h-2.244a4.304 4.304 0 0 0 1.163-2.94 4.329 4.329 0 0 0-4.324-4.325c-2.89 0-5.227 2.813-6.341 5.294a.686.686 0 0 0-.362-.105H12.8a.686.686 0 0 0-.362.105c-1.114-2.481-3.45-5.294-6.34-5.294a4.329 4.329 0 0 0-4.325 4.325c0 1.136.444 2.168 1.163 2.94H.692a.692.692 0 0 0-.692.692v4.843c0 .382.31.692.692.692h1.384v10.924c0 1.246 1.223 2.222 2.785 2.222h22.105c1.562 0 2.785-.976 2.785-2.222V17.99h1.384c.382 0 .692-.31.692-.692v-4.843a.692.692 0 0 0-.692-.692zM15.914 4.151c.381 0 .691-.31.691-.692V.692a.692.692 0 0 0-1.383 0v2.767c0 .382.31.692.692.692"></path><path d="M19.546 5.362a.69.69 0 0 0 .49-.203l1.037-1.037a.692.692 0 1 0-.978-.979l-1.038 1.038a.692.692 0 0 0 .489 1.181M11.792 5.16a.69.69 0 0 0 .978 0 .692.692 0 0 0 0-.979l-1.038-1.038a.692.692 0 1 0-.978.979l1.038 1.037z"></path></g></svg></span>Free Games</h5><a type="button" aria-label="Free Games View More" role="link" class="eds_14hl3lj9 eds_14hl3ljd eds_14hl3lji eds_1ypbntdc eds_14hl3ljm eds_14hl3lj2 css-1m56hcd-BUTTON_LINK" href="/en-US/free-games"><span class="eds_14hl3lj6">View More</span></a></div><section class="css-2u323"><div class="css-1myhtyb"><div class="css-n446gb"><div class="css-aere9z"><div><div class="css-2mlzob" data-component="FreeOfferCard"><a class="css-g3jcms" aria-label="Free Games, 1 of 4, Free Now, Apex Legends™: Loba Free Unlock Bundle, Free Now - Feb 20 at 08:00 AM" href="/en-US/p/apex-legends-season-24-epic-content-offer-f63bd1"><div class="css-914cl7"><div class="css-i9acc6"><div class="css-3f7x5i" data-testid="offer-card-image-portrait"><div class="css-767s3d"><div class="css-uwwqev"><div class="css-uwwqev" data-testid="picture"><img alt="Apex Legends™: Loba Free Unlock Bundle" src="https://cdn1.epicgames.com/spt-assets/5dcd88f4e2094a698ebffa43438edc33/apex-legends-1nk9w.jpg?resize=1&amp;w=360&amp;h=480&amp;quality=medium" class="css-1ae5wog" data-image="https://cdn1.epicgames.com/spt-assets/5dcd88f4e2094a698ebffa43438edc33/apex-legends-1nk9w.jpg?resize=1&amp;w=360&amp;h=480&amp;quality=medium" data-testid="picture-image"></div></div></div></div><div class="css-1magkk1"><div class="css-1avc5a3"><div class="css-82y1uz"><span>Free Now</span></div></div></div></div><div class="css-1a6kj04"><div class="css-1p5cyzj-ROOT"><h6 class="eds_1ypbntd0 eds_1ypbntd7 eds_1ypbntdq">Apex Legends™: Loba Free Unlock Bundle</h6><p class="eds_1ypbntd0 eds_1ypbntd9 eds_1ypbntdl"><span>Free Now - <time datetime="2025-02-20T16:00:00.000Z">Feb 20</time> at <time datetime="2025-02-20T16:00:00.000Z">08:00 AM</time></span></p></div></div></div></a></div></div></div></div><div class="css-n446gb"><div class="css-aere9z"><div><div class="css-2mlzob" data-component="FreeOfferCard"><a class="css-g3jcms" aria-label="Free Games, 2 of 4, Free Now, F1® Manager 2024, Free Now - Feb 20 at 08:00 AM, 3499" href="/en-US/p/f1-manager-2024-fe51bd"><div class="css-914cl7"><div class="css-i9acc6"><div class="css-3f7x5i" data-testid="offer-card-image-portrait"><div class="css-767s3d"><div class="css-uwwqev"><div class="css-uwwqev" data-testid="picture"><img alt="F1® Manager 2024" src="https://cdn1.epicgames.com/spt-assets/57015e643399448f8139291daa15bfc2/f1-manager-2024-15uhb.jpg?resize=1&amp;w=360&amp;h=480&amp;quality=medium" class="css-1ae5wog" data-image="https://cdn1.epicgames.com/spt-assets/57015e643399448f8139291daa15bfc2/f1-manager-2024-15uhb.jpg?resize=1&amp;w=360&amp;h=480&amp;quality=medium" data-testid="picture-image"></div></div></div></div><div class="css-1magkk1"><div class="css-1avc5a3"><div class="css-82y1uz"><span>Free Now</span></div></div></div></div><div class="css-1a6kj04"><div class="css-1p5cyzj-ROOT"><h6 class="eds_1ypbntd0 eds_1ypbntd7 eds_1ypbntdq">F1® Manager 2024</h6><p class="eds_1ypbntd0 eds_1ypbntd9 eds_1ypbntdl"><span>Free Now - <time datetime="2025-02-20T16:00:00.000Z">Feb 20</time> at <time datetime="2025-02-20T16:00:00.000Z">08:00 AM</time></span></p></div></div></div></a></div></div></div></div><div class="css-n446gb"><div class="css-aere9z"><div><div class="css-2mlzob" data-component="FreeOfferCard"><a class="css-g3jcms" aria-label="Free Games, 3 of 4, Coming Soon, Garden Story, Free Feb 20 - Feb 27" href="/en-US/p/garden-story"><div class="css-914cl7"><div class="css-i9acc6"><div class="css-3f7x5i" data-testid="offer-card-image-portrait"><div class="css-767s3d"><div class="css-uwwqev"><div class="css-uwwqev" data-testid="picture"><img alt="Garden Story" src="https://cdn1.epicgames.com/offer/0f3f352865294c3ea5e10454f24fde85/EGS_GardenStory_Picogram_S2_1200x1600-e2a799a996d78e477b4353cab8b1cf8c?resize=1&amp;w=360&amp;h=480&amp;quality=medium" class="css-1ae5wog" data-image="https://cdn1.epicgames.com/offer/0f3f352865294c3ea5e10454f24fde85/EGS_GardenStory_Picogram_S2_1200x1600-e2a799a996d78e477b4353cab8b1cf8c?resize=1&amp;w=360&amp;h=480&amp;quality=medium" data-testid="picture-image"></div></div></div></div><div class="css-1magkk1"><div class="css-1avc5a3"><div class="css-gyjcm9"><span>Coming Soon</span></div></div></div></div><div class="css-1a6kj04"><div class="css-1p5cyzj-ROOT"><h6 class="eds_1ypbntd0 eds_1ypbntd7 eds_1ypbntdq">Garden Story</h6><p class="eds_1ypbntd0 eds_1ypbntd9 eds_1ypbntdl"><span>Free <time datetime="2025-02-20T16:00:00.000Z">Feb 20</time> - <time datetime="2025-02-27T16:00:00.000Z">Feb 27</time></span></p></div></div></div></a></div></div></div></div><div class="css-n446gb"><div class="css-aere9z"><div><div class="css-2mlzob" data-component="FreeOfferCard"><a class="css-g3jcms" aria-label="Free Games, 4 of 4, Coming Soon, World War Z Aftermath, Free Feb 20 - Feb 27, 2000" href="/en-US/p/world-war-z"><div class="css-914cl7"><div class="css-i9acc6"><div class="css-3f7x5i" data-testid="offer-card-image-portrait"><div class="css-767s3d"><div class="css-uwwqev"><div class="css-uwwqev" data-testid="picture"><img alt="World War Z Aftermath" src="https://cdn1.epicgames.com/offer/wombat/EGS_WorldWarZ_SaberInteractive_Editions_S2_1200x1600-8f45e0b69430aeffb89fc9906e3e5a34?resize=1&amp;w=360&amp;h=480&amp;quality=medium" class="css-1ae5wog" data-image="https://cdn1.epicgames.com/offer/wombat/EGS_WorldWarZ_SaberInteractive_Editions_S2_1200x1600-8f45e0b69430aeffb89fc9906e3e5a34?resize=1&amp;w=360&amp;h=480&amp;quality=medium" data-testid="picture-image"></div></div></div></div><div class="css-1magkk1"><div class="css-1avc5a3"><div class="css-gyjcm9"><span>Coming Soon</span></div></div></div></div><div class="css-1a6kj04"><div class="css-1p5cyzj-ROOT"><h6 class="eds_1ypbntd0 eds_1ypbntd7 eds_1ypbntdq">World War Z Aftermath</h6><p class="eds_1ypbntd0 eds_1ypbntd9 eds_1ypbntdl"><span>Free <time datetime="2025-02-20T16:00:00.000Z">Feb 20</time> - <time datetime="2025-02-27T16:00:00.000Z">Feb 27</time></span></p></div></div></div></a></div></div></div></div></div></section></div>

   Once it has found this section it will look inside and find all the items with the 'Free Now' label: <div class="css-82y1uz"><span>Free Now</span></div>

   It will then find the links for these games, and create an array of the links it will go to. It then goes through the array and goes to the links until each game has been ordered, or has skipped the item, due to cases where the game requires another base game or it has already been ordered. 

   Once it has gone to the link it will look for the 'Get' button:

   <button type="button" data-testid="purchase-cta-button" class="eds_14hl3lj9 eds_14hl3ljb eds_14hl3ljh eds_1ypbntdc eds_14hl3lja eds_14hl3lj2 css-17gehj5"><span class="eds_14hl3lj6"><span>Get</span></span></button>

   if this button does not exist, it will check if it requires something else:

   <button type="button" disabled="" data-testid="purchase-cta-button" class="eds_14hl3lj9 eds_14hl3ljd eds_14hl3ljh eds_1ypbntdc eds_14hl3lja eds_14hl3ljl eds_14hl3lj2"><span class="eds_14hl3lj6"><span>Requires Base Game</span></span></button>

   Or it may already be owned:

   <button type="button" disabled="" data-testid="purchase-cta-button" class="eds_14hl3lj9 eds_14hl3ljb eds_14hl3ljh eds_1ypbntdc eds_14hl3lja eds_14hl3lj3 css-1vsauu5"><svg aria-hidden="true" class="eds_5nt5ak0 eds_5nt5ak9 eds_14hl3lj7" width="24" height="24" viewBox="0 0 24 24"><path d="M5.5 3.25A2.25 2.25 0 0 0 3.25 5.5v3a2.25 2.25 0 0 0 2.25 2.25h3a2.25 2.25 0 0 0 2.25-2.25v-3A2.25 2.25 0 0 0 8.5 3.25zM4.75 5.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-.75.75h-3a.75.75 0 0 1-.75-.75zm.75 7.75a2.25 2.25 0 0 0-2.25 2.25v3a2.25 2.25 0 0 0 2.25 2.25h3a2.25 2.25 0 0 0 2.25-2.25v-3a2.25 2.25 0 0 0-2.25-2.25zm-.75 2.25a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-.75.75h-3a.75.75 0 0 1-.75-.75zm8.5 0a2.25 2.25 0 0 1 2.25-2.25h3a2.25 2.25 0 0 1 2.25 2.25v3a2.25 2.25 0 0 1-2.25 2.25h-3a2.25 2.25 0 0 1-2.25-2.25zm2.25-.75a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75zm0-11.5a2.25 2.25 0 0 0-2.25 2.25v3a2.25 2.25 0 0 0 2.25 2.25h3a2.25 2.25 0 0 0 2.25-2.25v-3a2.25 2.25 0 0 0-2.25-2.25zm-.75 2.25a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-.75.75h-3a.75.75 0 0 1-.75-.75z" clip-rule="evenodd" fill-rule="evenodd"></path></svg><span class="eds_14hl3lj6"><span>In Library</span></span></button>

   If so it will skip this item and proceed to the next link in the array.

   Sometimes a menu will pop up when going to a game saying that the gane 'contains content that is unrated and may not be appropriate for all ages.':

   <div class="css-18jy0va" data-testid="EDSGateLayout"><div class="css-1gnjsk8-ROOT"><div class="css-1i4c9g6-HEADER"><span class="css-lvt6um" aria-hidden="true" data-testid="icon"><span class="bgImage css-h4owmf" style="background-image: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2MSA3MSIgZGF0YS1yZWFjdHJvb3Q9IiI+CiAgICA8cGF0aCBkPSJNNS40Njc3IDBDMS40NzQxIDAgMCAxLjQ5NDMgMCA1LjU0NXY0OC44Nzc1YzAgLjQ1OS4wMTc5Ljg4NC4wNTc4IDEuMjc5Mi4wOTE0Ljg4NC0uMDU3OCAyLjYzMDYgMy4wNzk1IDQuMDI2IDIuMDkxNi45MzA0IDEwLjI2NyA0LjM2NTMgMjQuNTI2NCAxMC4zMDUgMS4zODAxLjU4MjEgMS43Njg0LjcyIDIuODAzOS43Mi45MjI0LjAxOCAxLjUzMTUtLjEzNDIgMi43OTEyLS43MiAxNC4yNjkyLTUuNzUzMiAyMi40NDkyLTkuMTg4MSAyNC41NC0xMC4zMDUgMy4xMzYzLTEuNjc1MSAzLjEzNjMtNC44NDYxIDMuMTM2My01LjMwNTJWNS41NDQ5QzYwLjkzNTEgMS40OTQzIDU5LjQ2MTEgMCA1NS40Njc0IDBINS40Njc3eiIgZmlsbD0iIzI2YmJmZiI+PC9wYXRoPgogICAgPHBhdGggZD0iTTMyLjY2NjcgMjguMzkzOGwtMS40IDYuODQ4aC0xLjk1NDJMMjggMjguNTc4N1YyM2g0LjY2Njd2NS4zOTM4em0wIDEzLjI3MjlIMjh2LTQuNDk0OGg0LjY2Njd2NC40OTQ4eiIgZmlsbD0iI0ZGRiI+PC9wYXRoPgo8L3N2Zz4K&quot;);"></span></span><h4 class="eds_1ypbntd0 eds_1ypbntd5 eds_1ypbntdk"><span class="eds_1ypbntd0 eds_1ypbntd3 eds_1ypbntdk"><span><span class="eds_1ypbntd0 eds_1ypbntd3 eds_1ypbntdl" style="display: block;">F1® Manager 2024</span> contains content that is unrated and may not be appropriate for all ages.</span></span></h4></div><div tabindex="-1" data-focus-trap-id="gate-focus"><div class="css-1amgw8q"><div class="css-lpx52u"><a type="button" role="link" class="eds_14hl3lj9 eds_14hl3ljd eds_14hl3ljh eds_1ypbntdc eds_14hl3ljl eds_14hl3lj2 css-1m56hcd-BUTTON_LINK" href="/en-US/store"><span class="eds_14hl3lj6"><span>Back to Store</span></span></a><button type="button" id="btn_age_continue" class="eds_14hl3lj9 eds_14hl3ljb eds_14hl3ljh eds_1ypbntdc eds_14hl3lj2"><span class="eds_14hl3lj6"><span>Continue</span></span></button></div></div></div></div></div> 

   If so it should click the 'Continue' button and then proceed with normal operations.

   Once it has clicked the 'Get' button it will look inside this payment container iframe pop-up and look for the 'Place Order' button:

   <div id="webPurchaseContainer" class="webPurchaseContainer"><iframe class="" src="/purchase?highlightColor=0078f2&amp;offers=1-53ea1f0a585f4fbc9c8adc6b76af1165-80480c4dce974e03a009beeffc625b21-&amp;showNavigation=true"></iframe></div>


   And it will click the 'Place Order' button:

   <div class="payment-confirm-container"><div class="payment-order-confirm"><button class="payment-btn payment-order-confirm__btn payment-btn--primary"><div class="payment-loading"><div class="payment-loading__container"><span>Place Order</span></div></div></button></div></div>

   It will then wait 10 seconds for the user to complete any remaining captchas and complete the order.
   


## Contributing

Feel free to submit issues or pull requests for improvements or bug fixes.